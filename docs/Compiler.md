# コンパイル

C++のコンパイラーとしては、GCC(GNU Compiler Collection)と Clang(クラン)がある
GCC を使ってコンパイルする場合は以下のコマンドを実行する

```shell
g++ その他のオプション -o 出力するファイル名 ソースファイル名
```

コンパイルしたコードはファイル名をコマンド実行すると実行できる

```shell
./出力したファイル名
```

コンパイラオプション

- `-std=`：C++の規格を指定（例：`-std=c++17`）
- `-Wall`：コンパイラの便利な警告メッセージをほとんど全てを有効にする
- `pendantic-errors`：C++の規格を厳格に守る。規格に違反しているコードはコンパイルエラー扱いになる

```shell
g++ -std=c++17 -Wall --pedantic-errors -o 出力ファイル名 入力ファイル名
```

# ヘッダーファイルの省略

通常はファイル冒頭に`#include`を記載してライブラリを読み込む
`#include <iostream>`こう書いた場合、ヘッダーファイル iostream を取り込む

毎回、`#include`を追加するのは大変なので、標準ライブラリをまとめて`#include`したヘッダーファイルを作成し、それを`#include`することでまとめてライブラリを取り込むようにする

`#include`をまとめたヘッダーファイル all.h を作成して、以下のように書けば他のヘッダーファイルを`#include`する必要がなくなる

```cpp
#include "all.h"

// その他のコード
```

ファイルに毎回`#include`をするのも大変なため、コンパイルオプションの`-include`でコンパイル実行時にヘッダーファイルを読み込むことができる

```shell
g++ -include all.h -o 出力ファイル名 入力ファイル名
```

# コンパイル済みヘッダー

C++のコンパイル実行には時間がかかるため、プログラムで変更しないファイルを事前にコンパイルしておくと、コンパイル時間の短縮になる
事前にコンパイルしたヘッダーファイルのことをコンパイル済みヘッダーという

以下のコマンドを実行し、コンパイル済みヘッダーファイルの`ヘッダーファイル名.gch` を作成する

```shell
g++ -std=c++17 -Wall --pedantic-errors -x c++-header -o 出力ファイル(all.h.gch) 入力ファイル(all.h)
```

次に、ヘッダーファイルを使うコマンドを実行した時に同名の`.gch`が存在する場合、コンパイル済みヘッダーファイルが使用され処理を短縮する

```shell
g++ -std=c++17 -Wall --pedantic-errors -include all.h -o program main.cpp
```
